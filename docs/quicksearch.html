<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"globals.js.html":{"id":"globals.js.html","title":"Source: globals.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: globals.js &quot;use strict&quot;; /** * Global framework functions and helpers. * * @module */ var _ = require(&quot;lodash&quot;); var logger = require(&quot;./logger&quot;); /** * Verification matcher with expanded abilities. * * @global * @function */ global.expect = require(&quot;chai&quot;).expect; /** * Framework and tests config. * * @global * @namespace */ global.CONF = require(&quot;./config&quot;); /** * Atomic steps collection. * * @global * @namespace */ global.SS = new (require(&quot;./steps&quot;)); if (CONF.isWeb) { var wdio = require(&quot;webdriverio&quot;); var webdriver = wdio.remote(CONF.webdriver); SS.setWebdriver(webdriver); }; /** * Tests scope. * * @global * @function */ global.scope = describe; /** * Executed sessions counter. * * @type {Number} */ var sessNum = 0; /** * Tests session. * * @global * @function * @arg {string} [name] - Session name. By default it includes start date time. * @arg {object} [ctx] - Session context. By default it's empty. * @arg {function} func - Function with test cases. */ global.session = (name, ctx, func) =&gt; { if (!func &amp;&amp; !ctx) { func = name; ctx = {}; name = `Session ${new Date}`; } else if (!func) { func = ctx; ctx = name; name = `Session ${new Date}`; }; sessNum++; ctx.sessionNumber = sessNum; scope(name, () =&gt; { beforeSession(ctx); func(); afterSession(ctx); }); }; /** * Hook to execute before tests session. May be overridden. * * @global * @function * @arg {object} ctx - Session context. */ global.beforeSession = ctx =&gt; { if (CONF.isWeb) { before(async () =&gt; { if (!CONF.noDriversInstall) await SS.installSeleniumDrivers(); await SS.startSeleniumServer(); await SS.launchBrowser(); }); }; }; /** * Hook to execute after tests session. May be overridden. * * @global * @function * @arg {object} ctx - Session context. */ global.afterSession = ctx =&gt; { if (CONF.isWeb) { after(async () =&gt; await SS.closeBrowser()); after(async () =&gt; await SS.stopSeleniumServer()); }; }; /** * Basis for any test case. * * If test with the same was registered already, this test will be omitted * with corresponding error in log. * * If retries amount is specified and this test was failed, the test will be * added to queue in separated session with title containing `Retry` and its * number. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Test function. */ global.baseTest = (names =&gt; { return (name, func) =&gt; { if (names.includes(name)) { logger.warn(`Test case &quot;${name}&quot; is added already. \\ Test case with the same name will be omitted.`); return; }; names.push(name); var testCase = new TestCase(name); var retries = CONF.testRetries; CONF.testCases.push(testCase); scope(name, () =&gt; { var testFunc = ctxs =&gt; { ctxs = ctxs || [{}]; before(() =&gt; { testCase.reset(); CONF.curTestCase = testCase; }); for (var ctx of ctxs) func(ctx); after(() =&gt; { if (!testCase.isFailed() || retries &lt;= 0) return; retries--; var retryNum = CONF.testRetries - retries; var ctx = { retryNumber: retryNum }; session(`Retry #${retryNum}`, ctx, () =&gt; { testFunc(testCase.failedParams); }); }); }; testFunc(); }); }; })([]); /** * Test case. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Test function. */ global.test = (name, func) =&gt; { baseTest(name, ctx =&gt; { func(ctx); }); }; /** * Test step. * * Contains actions and verifications, which will be executed separatly * from another steps. It is not the same as `SS`. `SS` is namespace with * atomic application actions. But this function is used to organize test * structure and to allocate independent test actions. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Step function. */ global.step = it; /** * Hook to be executed before each test step. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Hook function. */ global.beforeStep = beforeEach; /** * Hook to be executed after each test step. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Hook function. */ global.afterStep = afterEach; /** * Hook to iterate test steps through all languages specifed in configuration. * * It's applicable for multilingual application. If list of languages is * specified, it will be used firstly. Otherwise from configuration. * * @global * @function * @arg {object} ctx - Test case context. * @arg {function} func - Function with test steps. */ global.forEachLanguage = (ctx, func) =&gt; { (ctx.languages || CONF.languages).forEach(lang =&gt; { scope(`for language &quot;${lang}&quot;`, () =&gt; { func(); }); }); }; × Search results Close "},"proxy_middleware_cache.js.html":{"id":"proxy_middleware_cache.js.html","title":"Source: proxy/middleware/cache.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: proxy/middleware/cache.js &quot;use strict&quot;; /** * */ var cacheManager = require(&quot;cache-manager&quot;); var fsStore = require(&quot;cache-manager-fs&quot;); var _ = require(&quot;lodash&quot;); var CONF = require(&quot;../../config&quot;); var logger = require(&quot;../../logger&quot;); if (CONF.useCache) { var diskCache = cacheManager.caching( { store: fsStore, options: { ttl: CONF.cacheTtl, maxsize: CONF.cacheSize, path:&quot;proxyCache&quot;, preventfill: !CONF.useExistingCache } }); } else { var diskCache = null; } /** * Middleware to cache server responses and reply them.\\ * * @function */ module.exports = function () { if (!this.useCache) return; if (!(await fromCache(this.req, this.res))) toCache(this.req, this.res); }; /** * Patches http response to send response from cache, if it is there. * * @function * @arg {object} req - http(s) request * @arg {object} res - http(s) response * @return {Promise.&lt;boolean&gt;} - `true` if response is in cache and * was patched, otherwise `false` */ fromCache = (req, res) =&gt; { if (_skipCache(req)) return false; return new Promise((resolve, reject) =&gt; { diskCache.get(_getReqKey(req), (err, result) =&gt; { if (err) reject(err); resolve(result); }); }).then(cached =&gt; { if (!cached) return false; fullLog(&quot;&lt;&lt;&lt; from cache&quot;, _getReqKey(req)); var response = JSON.parse(cached); res.writeHead(response.code, response.headers); res.end(Buffer.from(response.data)); return true; }); }; /** * Patches http response to put response to cache. * * @function * @arg {object} req - http(s) request * @arg {object} res - http(s) response */ toCache = (req, res) =&gt; { if (_skipCache(req)) return; var statusCode = 200, headers = {}; var resWrite = res.write; var resEnd = res.end; var resHead = res.writeHead; var resHeader = res.setHeader; var chunks = []; res.writeHead = function (statusCode_, statusMsg_, headers_) { statusCode = statusCode_; if (typeof(headers_) === &quot;object&quot;) _.assign(headers, headers_); else if (typeof(statusMsg_) === &quot;object&quot;) _.assign(headers, statusMsg_); resHead.apply(this, arguments); }; res.setHeader = function(name, value) { headers[name] = value; resHeader.apply(this, arguments); }; res.write = function (chunk) { if (chunk instanceof Buffer) chunks.push(chunk); resWrite.apply(this, arguments); }; res.end = function (chunk) { if (chunk instanceof Buffer) chunks.push(chunk); var resData = JSON.stringify({ data: Buffer.concat(chunks).toJSON(), code: statusCode, headers: headers }); fullLog(&quot;&gt;&gt;&gt; to cache&quot;, _getReqKey(req)); diskCache.set(_getReqKey(req), resData); resEnd.apply(this, arguments); }; }; var _getReqKey = req =&gt; req.method + &quot;_&quot; + req.headers.host + req.url; var _skipCache = req =&gt; { for (var skippedUrl of skippedUrls) if (req.url.startsWith(skippedUrl)) return true; }; × Search results Close "},"cli.js.html":{"id":"cli.js.html","title":"Source: cli.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: cli.js &quot;use strict&quot;; /** * List of functions to execute via command line interface. * * @module */ var path = require(&quot;path&quot;); var Mocha = require(&quot;mocha&quot;); /** * Runs test session. * * It executes `runner.js` file which is entry point to load and execute * files with tests. * * @function */ module.exports.run = () =&gt; { var mocha = new Mocha(); mocha.addFile(path.resolve(__dirname, &quot;runner.js&quot;)); mocha.run(failures =&gt; { process.on(&quot;exit&quot;, () =&gt; { process.exit(failures); }); }); }; × Search results Close "},"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: config.js &quot;use strict&quot;; /** * Configuration of framework and executed test cases. It also may be used * as a bus to read/write data and share it among components and objects. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var argv = require(&quot;yargs&quot;).argv; var cwd = process.cwd(); var argConfig = {}; var argConfigPath = path.resolve(cwd, &quot;args.json&quot;); if (fs.existsSync(argConfigPath)) { argConfig = require(argConfigPath); for (var key in argConfig) { argConfig[_.camelCase(key)] = argConfig[key]; delete argConfig[key]; }; }; _.assign(argConfig, argv); var config = module.exports = { curTestCase: null, testCases: [], testsDir: path.resolve(cwd, &quot;tests&quot;), reportsDir: path.resolve(cwd, &quot;reports&quot;), log: { file: path.resolve(cwd, &quot;glacejs.log&quot;), level: &quot;debug&quot;, }, }; var userConfig = {}; var userConfigPath = path.resolve(cwd, &quot;config.js&quot;); if (fs.existsSync(userConfigPath)) userConfig = require(userConfigPath); _.assign(config, userConfig); config.isWeb = !!argConfig.web; config.noDriversInstall = !argConfig.installDrivers; × Search results Close "},"dom.js.html":{"id":"dom.js.html","title":"Source: dom.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: dom.js &quot;use strict&quot;; /** * Defines classes responsible for interaction with DOM in browser context. * * @module */ var CONF = require(&quot;./config&quot;); var U = require(&quot;./utils&quot;); var PointerEvents = require(&quot;./event&quot;).PointerEvents; /** * Creates a new instance of `Dom`. * * `Dom` allows to manipulate with html controls via selenium and javascript. * * @class * @arg {object} driver - selenium driver instance */ var Dom = module.exports.Dom = function (driver) { this._driver = driver; for (var ctrlName of Object.keys(CONF.domControls || {})) this[ctrlName] = new Control(ctrlName, driver); }; /** * Creates a new instance of `Control`. * * `Control` binds DOM control in browser context with virtual control in test. * * @class * @arg {string} name - control name * @arg {object} driver - selenium driver instance */ var Control = function (name, driver) { this._name = name; this._driver = driver; this._selector = CONF.domControls[name].selector; this._ctrlCmd = &quot;document.querySelector('&quot; + this._selector + &quot;')&quot;; this._pointerEvents = new PointerEvents(driver); }; /** * Gets text content of DOM element. * * @method * @return {Promise.&lt;string&gt;} - text value or null */ Control.prototype.getText = function () { return this._driver.getText(this._selector).then(value =&gt; { if (value) return value.trim(); return this._driver.getAttribute(this._selector, &quot;value&quot;); }).then(value =&gt; { if (value) return value.trim(); return this._driver.getAttribute(this._selector, &quot;innerHTML&quot;); }).then(value =&gt; { if (value) return value.trim(); return null; }); }; /** * Gets DOM control location with attributes: * `x`, `y`, `midX`, `midY`, `width`, `height` * * @method * @arg {object} [opts] - location options * @arg {number} [opts.left=0] - left border offset * @arg {number} [opts.top=0] - top border offset * @arg {number} [opts.right=0] - right border offset * @arg {number} [opts.bottom=0] - bottom border offset * @return {Promise.&lt;object&gt;} - location of control */ Control.prototype.location = function (opts) { opts = U.defVal(opts, {}); opts.left = U.defVal(opts.left, 0); opts.top = U.defVal(opts.top, 0); opts.right = U.defVal(opts.right, 0); opts.bottom = U.defVal(opts.bottom, 0); var cmd = &quot; \\ var ctrl = &quot; + this._ctrlCmd + &quot;; \\ var rect = ctrl.getBoundingClientRect(); \\ var location = {}; \\ location.x = Math.ceil(rect.left + &quot; + opts.left + &quot;); \\ location.y = Math.ceil(rect.top + &quot; + opts.top + &quot;); \\ location.width = Math.ceil(rect.width - &quot; + (opts.left + opts.right) + &quot;); \\ location.height = Math.ceil(rect.height - &quot; + (opts.top + opts.bottom) + &quot;); \\ location.midX = Math.ceil(location.x + location.width / 2); \\ location.midY = Math.ceil(location.y + location.height / 2); \\ return location;&quot; return this._driver.execute(cmd).then(result =&gt; { return result.value; }); }; /** * Scrolls control into browser viewport. * * @method * @return {Promise.&lt;*&gt;} - result of javascript execution in browser context */ Control.prototype.scrollIntoView = function () { var cmd = &quot;return &quot; + this._ctrlCmd + &quot;.scrollIntoView();&quot;; return this._driver.execute(cmd).then(result =&gt; { return result.value; }); }; /** * Clicks control in browser. * * @method * @return {Promise.&lt;*&gt;} - result of selenium execution in browser context */ Control.prototype.click = function () { return this.scrollIntoView().then(() =&gt; { return this._driver.click(this._selector); }); }; /** * Taps control in browser. * * @method */ Control.prototype.tap = Control.prototype.click; /** * Defines whether control is selected or no. * * @method * @return {Promise.&lt;boolean&gt;} - `true` if control is selected, `false` otherwise */ Control.prototype.isSelected = function () { return this._driver.isSelected(this._selector).then(result =&gt; { if (result) return true; return this._driver.getAttribute(this._selector, &quot;class&quot;).then(result =&gt; { return result.includes(&quot;selected&quot;); }); }); }; /** * Defines whether control is exist or no. * * @method * @return {Promise.&lt;boolean&gt;} - `true` if control is exist, `false` otherwise */ Control.prototype.isExist = function () { var cmd = &quot;return !!&quot; + this._ctrlCmd + &quot;;&quot;; return this._driver.execute(cmd).then(result =&gt; { return result.value; }); }; /** * Waits for control is exist. * * @method * @arg {number} [timeout] - timeout to wait, ms * @return {Promise.&lt;*&gt;} - result of selenium execution * @throws {TimeoutError} - If control isn't exist after timeout. */ Control.prototype.waitForExist = function (timeout) { var timeout = U.defVal(timeout, CONF.timeout.animation); var errMsg = this._name + &quot; isn't exist after &quot; + timeout + &quot; ms&quot;; return this._driver.waitUntil(async () =&gt; { return await this.isExist(); }, timeout, errMsg); }; /** * Waits for control isn't exist. * * @method * @arg {number} [timeout] - timeout to wait, ms * @return {Promise.&lt;*&gt;} - result of selenium execution * @throws {TimeoutError} - If control is still exist after timeout. */ Control.prototype.waitForNonExist = function (timeout) { var timeout = U.defVal(timeout, CONF.timeout.animation); var errMsg = this._name + &quot; is still exist after &quot; + timeout + &quot; ms&quot;; return this._driver.waitUntil(async () =&gt; { return !(await this.isExist()); }, timeout, errMsg); }; /** * Defines whether control is visible or no. * * @method * @return {Promise.&lt;boolean&gt;} - `true` if control is visible, `false` otherwise */ Control.prototype.isVisible = function () { return this.isExist().then(result =&gt; { if (!result) return false; return this._driver.isVisible(this._selector); }); }; /** * Waits for control is visible. * * @method * @arg {number} [timeout] - timeout to wait, ms * @return {Promise.&lt;*&gt;} - result of selenium execution * @throws {TimeoutError} - If control isn't visible after timeout. */ Control.prototype.waitForVisible = function (timeout) { var timeout = U.defVal(timeout, CONF.timeout.animation); var errMsg = this._name + &quot; isn't visible after &quot; + timeout + &quot; ms&quot;; return this._driver.waitUntil(async () =&gt; { return await this.isVisible(); }, timeout, errMsg); }; /** * Waits for control is invisible. * * @method * @arg {number} [timeout] - timeout to wait, ms * @return {Promise.&lt;*&gt;} - result of selenium execution * @throws {TimeoutError} - If control is still visible after timeout. */ Control.prototype.waitForInvisible = function (timeout) { var timeout = U.defVal(timeout, CONF.timeout.animation); var errMsg = this._name + &quot; is still visible after &quot; + timeout + &quot; ms&quot;; return this._driver.waitUntil(async () =&gt; { return !(await this.isVisible()); }, timeout, errMsg); }; × Search results Close "},"error.js.html":{"id":"error.js.html","title":"Source: error.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: error.js &quot;use strict&quot;; /** * Framework errors. * * @module */ var util = require(&quot;util&quot;); var BaseError = require(&quot;es6-error&quot;); /** * Base framework error. * * @class * @arg {string} message - Error message. */ var GlaceError = module.exports.GlaceError = function (message) { BaseError.call(this, message); }; util.inherits(GlaceError, BaseError); × Search results Close "},"event.js.html":{"id":"event.js.html","title":"Source: event.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: event.js &quot;use strict&quot;; /** * Browser events. * * @module */ /** * Creates a new pointer events instance. * * @class * @classdesc Contains browser pointer events. */ var PointerEvents = module.exports.PointerEvents = function (driver) { this._driver = driver; } /** * Moves pointer over element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.over = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerover', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Enters pointer to element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.enter = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerenter', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Presses pointer down on element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.down = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerdown', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Unpresses pointer up on element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.up = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerup', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Moves pointer to element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.move = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointermove', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Cancel pointer on element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.cancel = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointercancel', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Moves out pointer from element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.out = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerout', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Leaves pointer from element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.leave = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerleave', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } × Search results Close "},"image.js.html":{"id":"image.js.html","title":"Source: image.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: image.js &quot;use strict&quot;; /** * Describes image processing. * * @module */ var sharp = require(&quot;sharp&quot;); var temp = require(&quot;temp&quot;); var U = require(&quot;./utils&quot;); /** * Creates new instance of Image. * * @class * @arg {string} srcPath - path to processed image * @arg {object} [srcOpts] - image options * @arg {number} [srcOpts.scaleX] - image current scale value on `X` axis * @arg {number} [srcOpts.scaleY] - image current scale value on `Y` axis */ var Image = module.exports = function (srcPath, srcOpts) { if (!(this instanceof Image)) return new Image(srcPath, srcOpts); srcOpts = U.defVal(srcOpts, {}); srcOpts.scaleX = U.defVal(srcOpts.scaleX, 1); srcOpts.scaleY = U.defVal(srcOpts.scaleY, 1); this._srcPath = srcPath; this._srcOpts = srcOpts; }; /** * Defines if processed image includes specified image. * * @method * @arg {string} dstPath - path to potentially included image * @arg {object} [dstOpts] - included image options * @arg {number} [dstOpts.tolerance=0.05] - comparison tolerance * @arg {?string} [dstOpts.matchedPath=null] - path to same captured place * @arg {boolean} [dstOpts.saveMatch=false] - flag to capture images * intersection or no * @return {Promise.&lt;object&gt;} - result */ Image.prototype.includes = function (dstPath, dstOpts) { dstOpts = U.defVal(dstOpts, {}); dstOpts.scaleX = U.defVal(dstOpts.scaleX, 1); dstOpts.scaleY = U.defVal(dstOpts.scaleY, 1); this._dstPath = dstPath; this._dstOpts = dstOpts; this._tolerance = U.defVal(dstOpts.tolerance, .05); this._matchedPath = U.defVal(dstOpts.matchedPath); this._saveMatch = U.defVal(dstOpts.saveMatch, !!this._matchedPath); if (this._saveMatch &amp;&amp; !this._matchedPath) this._matchedPath = temp.path({ suffix: '.png' }); this._pixelDenominator = 255 * Math.sqrt(3); var srcImage; return this._loadImg(this._srcPath, this._srcOpts).then(image =&gt; { srcImage = image; return this._loadImg(this._dstPath, this._dstOpts); }).then(dstImage =&gt; { return this._includes(srcImage, dstImage); }).then(result =&gt; { if (!result.isIncluded) return { isIncluded: false }; if (!this._saveMatch) return result; return this ._saveMatchImage(result.offsetX, result.offsetY, result.width, result.height) .then(() =&gt; { result.matchedPath = this._matchedPath; return result; }); }); }; /** * Loads image. * * @method * @protected * @arg {string} imgPath - path loaded image * @arg {object} imgOpts - image options * @return {Promise.&lt;object&gt;} - image data */ Image.prototype._loadImg = function(imgPath, imgOpts) { var width, height; var img = sharp(imgPath); return img.metadata().then(metadata =&gt; { width = Math.ceil(metadata.width / imgOpts.scaleX); height = Math.ceil(metadata.height / imgOpts.scaleY); return img.resize(width, height).raw().toBuffer(); }).then(data =&gt; { return { data: data, width: width, height: height }; }); }; /** * Saves matched part of image. * * @method * @protected * @arg {number} left - offset from left image border * @arg {number} top - offset from top image border * @arg {number} width - width of matched part * @arg {number} height - height of matched part * @return {Promise} */ Image.prototype._saveMatchImage = function (left, top, width, height) { return sharp(this._srcPath) .extract({ left: left, top: top, width: width, height: height }) .toFile(this._matchedPath); }; /** * Defines whether one image data includes another. * * @method * @protected * @arg {object} src - source image data * @arg {object} dst - destination image data, which is potentially included * @return {object} - result */ Image.prototype._includes = function (src, dst) { var srcPixels = this._cropPixels(this._getPixels(src)), dstPixels = this._cropPixels(this._getPixels(dst)); var offsetX, offsetY, diffValue, x, y, pixels; var dstUsedPixels = [], dstWidth = dstPixels[0].length, dstHeight = dstPixels.length; var result = { isIncluded: false, diffValue: null, offsetX: null, offsetY: null, width: dstWidth, height: dstHeight }; var deltaX = srcPixels[0].length - dstWidth, deltaY = srcPixels.length - dstHeight; for (y = 0; y &lt; dstHeight; y++) { pixels = dstPixels[y]; for (x = 0; x &lt; dstWidth; x++) { if (this._isPixelUsed(pixels[x])) dstUsedPixels.push({ pixel: pixels[x], x: x, y: y }); }; }; for (offsetY = 0; offsetY &lt;= deltaY; offsetY++) { for (offsetX = 0; offsetX &lt;= deltaX; offsetX++) { diffValue = this._getDiffValue(srcPixels, dstUsedPixels, offsetX, offsetY); if (diffValue === null) continue; if (result.diffValue === null || result.diffValue &gt; diffValue) { result.isIncluded = true; result.diffValue = diffValue; result.offsetX = offsetX; result.offsetY = offsetY; }; if (diffValue === 0 || !this._saveMatch) return result; }; }; return result; }; /** * Calculates difference between source pixels and destination pixels. * * @method * @protected * @arg {object[][]} - source pixels matrix * @arg {object[][]} - destination pixels matrix * @arg {number} offsetX - source left border offset * @arg {number} offsetY - source top border offset * @return {number} - difference value */ Image.prototype._getDiffValue = function (srcPixels, dstPixels, offsetX, offsetY) { var diffPixels = 0, limit = this._tolerance * dstPixels.length, dstPixel, srcPixel, i; for (i = 0; i &lt; dstPixels.length; i++) { dstPixel = dstPixels[i]; srcPixel = srcPixels[offsetY + dstPixel.y][offsetX + dstPixel.x]; if (this._isPixelTolerant(srcPixel, dstPixel.pixel)) continue; diffPixels++; if (diffPixels &gt; limit) return null; }; return diffPixels / dstPixels.length; }; /** * Defines whether pixel should be used for difference calculation or no, * according its alpha value. * * @method * @protected * @arg {object} pixel - pixel * @return {boolean} - `true` if should be, `false` otherwise */ Image.prototype._isPixelUsed = function (pixel) { return (255 - pixel.A) / 255 &lt; this._tolerance; }; /** * Defines whether source pixel is tolerant to destination pixel. * * @method * @protected * @arg {object} srcPixel - source pixel * @arg {object} dstPixel - destination pixel * @return {boolean} - `true` if pixels are tolerant, `false` otherwise */ Image.prototype._isPixelTolerant = function(srcPixel, dstPixel) { var deltaR = srcPixel.R - dstPixel.R, deltaG = srcPixel.G - dstPixel.G, deltaB = srcPixel.B - dstPixel.B; return Math.sqrt(deltaR * deltaR + deltaG * deltaG + deltaB * deltaB) / this._pixelDenominator &lt; this._tolerance; }; /** * Retrieves pixels from image data. * * @method * @protected * @arg {object} img - image data * @return {object[][]} - pixels matrix */ Image.prototype._getPixels = function (img) { var pixels = [], height = img.height, width = img.width * 4, x, y, offset; for (y = 0; y &lt; height; y++) { offset = width * y; pixels.push([]); for (var x = 0; x &lt; width; x += 4) { pixels[y].push({ R: img.data[offset + x], G: img.data[offset + x + 1], B: img.data[offset + x + 2], A: img.data[offset + x + 3] }); }; }; return pixels; }; /** * Crops pixels, removes empty rows and columns. * * @method * @protected * @arg {object[][]} pixels - pixels matrix * @return {object[][]} - cropped pixels matrix */ Image.prototype._cropPixels = function (pixels) { pixels = this._cropTop(pixels); pixels.reverse(); pixels = this._cropTop(pixels); pixels.reverse(); pixels = this._transpose(pixels); pixels = this._cropTop(pixels); pixels.reverse(); pixels = this._cropTop(pixels); pixels.reverse(); return this._transpose(pixels); }; /** * Crops top part of pixels matrix. * * @method * @protected * @arg {object[][]} pixels - pixels matrix * @return {object[][]} - cropped pixels matrix */ Image.prototype._cropTop = function (pixels) { var croppedPixels = [], isTransparent = true, width = pixels[0].length, height = pixels.length, x, y, pixelsRow; for (y = 0; y &lt; height; y++) { pixelsRow = pixels[y]; if (isTransparent) { for (x = 0; x &lt; width; x++) { if (pixelsRow[x].A != 0) { isTransparent = false; break; }; }; }; if (!isTransparent) croppedPixels.push(pixelsRow); }; return croppedPixels; }; /** * Transposes pixels matrix. * * @method * @arg {object[][]} pixels - pixels matrix * @return {object[][]} transposed pixels matrix */ Image.prototype._transpose = function (pixels) { var width = pixels[0].length, height = pixels.length, tPixels = [], x, y; if (width === 0 || height === 0) return []; for (y = 0; y &lt; width; y++) { tPixels[y] = []; for (x = 0; x &lt; height; x++) { tPixels[y][x] = pixels[x][y]; }; }; return tPixels; }; × Search results Close "},"logger.js.html":{"id":"logger.js.html","title":"Source: logger.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: logger.js &quot;use strict&quot;; /** * Configures framework logging. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var mkdirp = require(&quot;mkdirp&quot;); var winston = require(&quot;winston&quot;); var CONF = require(&quot;./config&quot;); if (fs.existsSync(CONF.log.file)) fs.unlinkSync(CONF.log.file); winston.level = CONF.log.level; winston.add(winston.transports.File, { filename: CONF.log.file }) var stepLogger = new winston.Logger; var fullLogger = new winston.Logger; winston.step = function () { stepLogger.info.apply(stepLogger, arguments); }; /** * Logs methods work to file. * * @function */ winston.stepDebug = function () { if (CONF.stdoutLog) console.log.apply(console, arguments); fullLogger.info.apply(fullLogger, arguments); }; /** * Changes log file according to set name. * * @function * @param {string} testName - name of testcase */ logStep.setName = testName =&gt; { var logsDir = path.resolve(CONF.localReportDir, _.kebabCase(testName), 'logs'); mkdirp.sync(logsDir); var logFile = path.resolve(logsDir, 'manual-steps.txt'); if (stepLogger.transports.file) stepLogger.remove(winston.transports.File); stepLogger.add(winston.transports.File, { filename: logFile, json: false }); }; /** * Changes full log file according to set name. * * @function * @param {string} testName - name of testcase */ fullLog.setName = testName =&gt; { var logsDir = path.resolve(CONF.localReportDir, _.kebabCase(testName), 'logs'); mkdirp.sync(logsDir); var fullLogFile = path.resolve(logsDir, 'full-log.txt'); if (fullLogger.transports.file) fullLogger.remove(winston.transports.File); fullLogger.add(winston.transports.File, { filename: fullLogFile, json: false }); }; module.exports = winston; × Search results Close "},"proxy_base.js.html":{"id":"proxy_base.js.html","title":"Source: proxy/base.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: proxy/base.js &quot;use strict&quot;; /** * Base proxy. * * @module */ /** * Base proxy. * * @class * @abstract */ var BaseProxy = module.exports = function () { this.speed = null; this.responsesData = null; }; /** * Sets speed of responses from proxy to client. * * @method * */ BaseProxy.prototype.setSpeed = function (speed) { this.speed = speed; }; /** * Resets speed of responses. * * @method */ BaseProxy.prototype.resetSpeed = function () { this.speed = null; }; /** * Starts to measure responses and gather information of them. * * @method */ BaseProxy.prototype.measureResponses = function () { this.responsesData = []; }; /** * Disables responses measurement. * * @method */ BaseProxy.prototype.unmeasureResponses = function () { this.responsesData = null; }; /** * Gets responses data. * * @method */ BaseProxy.prototype.getResponsesData = function () { if (this.responsesData === null) return null; return _.cloneDeep(this.responsesData); }; /** * Starts proxy. * * @method */ BaseProxy.prototype.start = function () { throw new Error(&quot;Should be implemented in derived class&quot;); }; /** * Stops proxy server. * * @method */ BaseProxy.prototype.stop = function () { throw new Error(&quot;Should be implemented in derived class&quot;); }; × Search results Close "},"proxy_index.js.html":{"id":"proxy_index.js.html","title":"Source: proxy/index.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: proxy/index.js &quot;use strict&quot;; /** * Proxy package. * * @module */ module.exports = { GlobalProxy: require(&quot;./globalProxy&quot;), Proxy: require(&quot;./proxy&quot;), }; × Search results Close "},"proxy_middleware_index.js.html":{"id":"proxy_middleware_index.js.html","title":"Source: proxy/middleware/index.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: proxy/middleware/index.js &quot;use strict&quot;; /** * Proxy middleware package. * * @module */ module.exports = [ require(&quot;./speed&quot;), require(&quot;./info&quot;), require(&quot;./cache&quot;), ]; × Search results Close "},"proxy_middleware_info.js.html":{"id":"proxy_middleware_info.js.html","title":"Source: proxy/middleware/info.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: proxy/middleware/info.js &quot;use strict&quot;; /** * Contains proxy middlewares * * @module */ var cacheManager = require(&quot;cache-manager&quot;); var fsStore = require(&quot;cache-manager-fs&quot;); var _ = require(&quot;lodash&quot;); var CONF = require(&quot;../../config&quot;); var fullLog = require('../../logging').fullLog; if (CONF.useCache) { var diskCache = cacheManager.caching( { store: fsStore, options: { ttl: CONF.cacheTtl, maxsize: CONF.cacheSize, path:&quot;proxyCache&quot;, preventfill: !CONF.useExistingCache } }); } else { var diskCache = null; } /** * Middleware to gather information about requests and responses. * * @function */ module.exports = function () { if (!this.responsesData) return; var data = { name: req.headers.host + req.url, encoding: req.headers[&quot;content-encoding&quot;] || &quot;identity&quot;, size: 0, chunkSizes: [] }; this.responsesData.push(data); var resWrite = this.res.write; var resEnd = this.res.end; var addData = chunk =&gt; { if (!chunk) return; data.chunkSizes.push(chunk.length); data.size += chunk.length; }; this.res.write = function (chunk) { addData(chunk); resWrite.apply(this, arguments); }; this.res.end = function (chunk) { addData(chunk); resEnd.apply(this, arguments); }; }; × Search results Close "},"proxy_middleware_speed.js.html":{"id":"proxy_middleware_speed.js.html","title":"Source: proxy/middleware/speed.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: proxy/middleware/speed.js &quot;use strict&quot;; /** * Middleware to manage responses speed. * * @module */ /** * Middleware to change responses speed. * * @function * @arg {object} res - http(s) response * @arg {number} speed - limited speed value, kb/s */ module.exports.changeResponsesSpeed = function () { if (!this.speed) return; var timer = 1; var size = Math.ceil(this.speed / 8); var prms = Promise.resolve(); var resWrite = this.res.write; var resEnd = this.res.end; var promisify = args =&gt; { var chunk = args[0]; if (!chunk) return; for (var i = 0; i &lt; chunk.length; i += size) { prms = prms.then((idx =&gt; () =&gt; { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { args[0] = chunk.slice(idx, idx + size); resWrite.apply(res, args); resolve(); }, timer); }); })(i)); }; }; this.res.write = function () { promisify(Array.from(arguments)); }; this.res.end = function () { var args = Array.from(arguments); promisify(args); prms.then(() =&gt; { args[0] = null; resEnd.apply(res, args); }); }; }; × Search results Close "},"proxy_proxy.js.html":{"id":"proxy_proxy.js.html","title":"Source: proxy/proxy.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: proxy/proxy.js &quot;use strict&quot;; /** * Contains code, responsible for proxy server implementation. * * @module */ var os = require(&quot;os&quot;); var http = require(&quot;http&quot;); var https = require(&quot;https&quot;); var url = require(&quot;url&quot;); var util = require(&quot;util&quot;); var _ = require(&quot;lodash&quot;); var express = require(&quot;express&quot;); var httpProxy = require(&quot;http-proxy&quot;); var CONF = require(&quot;../config&quot;); var utils = require(&quot;../utils&quot;); /** * Creates a new instance of ProxyServer. * * @class * @arg {object} [opts] - proxy options * @arg {boolean} [opts.useCache=false] - flag to cache and take from cache responses */ var ProxyServer = module.exports.ProxyServer = function (opts) { BaseProxy.call(this); opts = opts || {}; this._server = null; this._proxy = null; this._responses = {}; this.isRunning = false; this.useCache = !!opts.useCache; var parsedUrl = url.parse(CONF.initUrl); if (parsedUrl.protocol === &quot;https:&quot;) { this._proxy = httpProxy.createProxyServer({ target: &quot;https://&quot; + parsedUrl.host, agent: https.globalAgent, headers: { host: parsedUrl.hostname }, proxyTimeout: CONF.timeout.pageLoad, }); } else if (parsedUrl.protocol === &quot;http:&quot;) { this._proxy = httpProxy.createProxyServer({ target: { host: parsedUrl.hostname, port: parsedUrl.port, }, proxyTimeout: CONF.timeout.pageLoad, }); } else { throw new Error(&quot;Unexpected URL protocol &quot; + parsedUrl.protocol); }; var app = express(); app.use(async (req, res) =&gt; { this.req = req; this.res = res; for (var mw of middleware) await mw.call(this); delete this.req; delete this.res; this._proxy.web(req, res); }); this._server = http.createServer(app); }; util.inherits(ProxyServer, BaseProxy); /** * Starts proxy server if it&quot;s not started yet. * * @method */ ProxyServer.prototype.start = function () { if (this.isRunning) return; this._server.listen(CONF.proxyPort); this.isRunning = true; }; /** * Stops proxy server if it&quot;s not stopped yet. * * @method */ ProxyServer.prototype.stop = function () { if (!this.isRunning) return; this._server.close(); this._proxy.close(); this.isRunning = false; }; × Search results Close "},"runner.js.html":{"id":"runner.js.html","title":"Source: runner.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: runner.js &quot;use strict&quot;; /** * Tests runner * * @module */ require(&quot;./globals&quot;); session(() =&gt; { var loadTests = testsDir =&gt; { for (var fileName of fs.readdirSync(testsDir)) { var filePath = path.resolve(testsDir, fileName); if (fileName === &quot;conftest.js&quot;) require(filePath); if (fileName.startsWith(&quot;test&quot;) &amp;&amp; fileName.endsWith(&quot;.js&quot;)) { require(filePath); }; if (fs.lstatSync(filePath).isDirectory()) { loadTests(filePath); }; }; }; loadTests(CONF.testsDir); }); × Search results Close "},"steps_image.js.html":{"id":"steps_image.js.html","title":"Source: steps/image.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: steps/image.js &quot;use strict&quot;; /** * Steps for screenshots and images. * * @module */ var U = require(&quot;../utils&quot;); /** * Steps to manage web ui screenshots and images. * * @mixin */ module.exports = { /** * Step to make web ui screenshot. * * @method * @instance * @async * @arg {string} screenName - Name of screenshot. * @arg {object} [opts] - Step options. */ makeScreenshot: async function (screenName, opts) { opts = U.defVal(opts, {}); opts.subdirs = U.defVal(opts.subdirs, []); opts.control = U.defVal(opts.control); opts.verify = U.defVal(opts.verify, true) &amp;&amp; CONF.isScreenshotVerification; opts.verifyInclusion = U.defVal(opts.verifyInclusion, false) &amp;&amp; CONF.isScreenshotVerification; opts.check = U.defVal(opts.check, true); opts.preHook = U.defVal(opts.preHook); opts.postHook = U.defVal(opts.postHook); opts.domSelector = U.defVal(opts.domSelector); fullLog(&quot;makeScreenshot start arguments&quot;, screenName, opts); var screenPath = this._getPath(screenName, { subdirs: opts.subdirs }); if (opts.preHook) await opts.preHook.call(this); if (opts.domSelector) await this._domScreenshot(screenPath, opts.domSelector) else await this._seleniumScreenshot(screenPath); if (opts.check) { var errMsg = &quot;Browser screenshot isn't saved to &quot; + screenPath; fs.existsSync(screenPath).should.withMessage(errMsg).be.true; }; CONF.testCase.screenshots.push(screenPath); logStep(&quot;Save browser screenshot to&quot;, screenPath); if (opts.control) await this._cropImage(screenPath, opts.control, { sameName: true }); if (opts.verifyInclusion) await this.checkScreenshotContainsImage(screenPath, opts); else if (opts.verify) await this.checkScreenshot(screenPath, opts); fullLog(&quot;makeScreenshot end result&quot;, screenPath); if (opts.postHook) await opts.postHook.call(this); return screenPath; }, /** * Helper to make browser screenshot with selenium. * * @method * @protected * @arg {string} screenPath - path to screenshot which will be saved */ _seleniumScreenshot: async function (screenPath) { await this._driver.saveScreenshot(screenPath); }, /** * Helper to make DOM screenshot with html2canvas. * * @method * @protected * @arg {string} screenPath - path to screenshot which will be saved * @arg {string} selector - CSS selector of DOM element, which content * will be saved to screenshot. * @arg {number} [timeout=20000] - timeout to wait screenshot capturing, ms * @throws {Error} - if screenshot will not be captured during timeout */ _domScreenshot: async function (screenPath, selector, timeout) { timeout = U.defVal(timeout, 20000); var errMsg = &quot;Can't screencapture element with selector &quot; + selector; await this._driver.execute(function (selector) { var script = document.createElement('script'); script.onload = function() { html2canvas( document.querySelector(selector), { onrendered: function(canvas) { window.domElementScreen = canvas .toDataURL() .split(&quot;data:image/png;base64,&quot;)[1]; }, useCORS: true }); }; script.src = &quot;https://cdnjs.cloudflare.com/ajax/libs/html2canvas/&quot; + &quot;0.5.0-beta4/html2canvas.min.js&quot;; document.body.appendChild(script); }, selector); var screenBase64 = await this._driver.waitUntil(async () =&gt; { return (await this._driver.execute(function () { if (window.domElementScreen) { var result = window.domElementScreen; delete window.domElementScreen; return result; } else { return false; } })).value; }, timeout, errMsg); fs.writeFileSync(screenPath, screenBase64, 'base64'); }, /** * Step to check screenshot matches standard image. * * If it's used to compare images, it tries to find standard image for * current language. If standard image for current language is absent, it tries * to find standard image for `en` language, because signs for each * language should look like for english. * * @method * @arg {string} screenPath - path to saved screenshot * @arg {object} [opts] - comparison options * @arg {boolean} [opts.Check=false] - flag whether it's * images comparison or no * @arg {number} [opts.tolerance=0.05] - images comparison precision * @arg {number} [opts.elementTolerance=0.05] - cropped elements comparison * precision * @arg {string[]} [opts.checkedElements=[]] - array of checked element names * @arg {?string} [opts.standardImage=null] - path to standard image which * will be compared with current. * @arg {boolean} [opts.shouldEqual=true] - flag to check images equivalence * or their difference * @throws {Error} - if screenshot doesn't standard image with specified * precision */ checkScreenshot: async function (screenPath, opts) { opts = U.defVal(opts, {}); opts.Check = U.defVal(opts.Check, false); opts.tolerance = U.defVal(opts.tolerance, 0.05); opts.elementTolerance = U.defVal(opts.elementTolerance, 0.05); opts.checkedElements = U.defVal(opts.checkedElements, []); opts.standardImage = U.defVal(opts.standardImage); opts.shouldEqual = U.defVal(opts.shouldEqual, true); var expectedImagePath = opts.standardImage || this._getPath( path.basename(screenPath), { mode: &quot;resources&quot;, lang: opts.Check ? &quot;en&quot; : CONF.testCase.language }); fs.existsSync(expectedImagePath).should.withMessage( &quot;Standard image &quot; + expectedImagePath + &quot; is absent&quot;).be.true; await this._verificateScreenshots( screenPath, expectedImagePath, { tolerance: opts.tolerance, shouldEqual: opts.shouldEqual }); if (opts.checkedElements) { var outputDirPath = path.resolve(path.dirname(screenPath), 'cropped'); var stdOutputDirPath = path.resolve( path.dirname(screenPath), 'stdCropped'); mkdirp.sync(outputDirPath); mkdirp.sync(stdOutputDirPath); for (var element of opts.checkedElements) { var actualCroppedImage = await this._cropImage( screenPath, element, { dstDir: outputDirPath }); var expectedCroppedImage = await this._cropImage( expectedImagePath, element, { dstDir: stdOutputDirPath }); await this._verificateScreenshots( actualCroppedImage, expectedCroppedImage, { tolerance: opts.elementTolerance, shouldEqual: opts.shouldEqual }); } } }, /** * Helper to compare screenshot with standard image. * * @method * @protected * @arg {string} actualScreenshotPath - path to taken screen shot * @arg {string} expectedScreenshotPath - path to expected image * @arg {object} [opts] - verification options * @arg {number} [opts.tolerance=0.05] - Percentage of comparision * tolerance. E.g. 5% tolerance is 0.05. * @arg {boolean} [opts.shouldEqual=true] - flag to check images equivalence * or their difference * @throws {Error} If screenshots comparison is failed. */ _verificateScreenshots: async function ( actualScreenshotPath, expectedScreenshotPath, opts) { opts = U.defVal(opts, {}); opts.tolerance = U.defVal(opts.tolerance, 0.05); opts.shouldEqual = U.defVal(opts.shouldEqual, true); var imageName = path.basename(actualScreenshotPath); var diffImagePath = this._getPath(imageName, { subdirs: ['diffs'] }); var result = await new Promise((resolve, reject) =&gt; { imageDiff.getFullResult({ actualImage: actualScreenshotPath, expectedImage: expectedScreenshotPath, diffImage: diffImagePath }, function(err, result) { if (err) reject(err); resolve(result); }); }); if (result.percentage &gt; 0.05) { logger.debug(&quot;WARNING! Difference percentage: &quot; + result.percentage + &quot; for diffImage: &quot; + diffImagePath + &quot; test step: &quot; +_.last(CONF.testCase.steps).name); } else { logger.debug(&quot;Difference percentage: &quot; + result.percentage + &quot; for diffImage: &quot; + diffImagePath); } if (opts.shouldEqual) { expect(result.percentage).to.be.below( opts.tolerance, &quot;Images difference above &quot; + opts.tolerance); } else { expect(result.percentage).to.be.above( opts.tolerance, &quot;Images difference below &quot; + opts.tolerance); }; }, /** * Helper to crop control area on screenshot. * * @method * @protected * @arg {string} srcPath - path to image for cropping * @arg {object} ctrlName - name of control which will be cropped * @arg {object} [opts] - cropping options * @arg {boolean} [opts.sameName=false] - flag to use the same name for * cropped image or no. If `false` control name will be added to image name. * @return {string} - path to cropped image */ _cropImage: async function (srcPath, ctrlName, opts) { var control = this._dom[ctrlName]; expect(control) .withMessage(&quot;Undefined control &quot; + ctrlName) .to.not.be.undefined; fs.existsSync(srcPath) .should .withMessage(&quot;Image &quot; + srcPath + &quot; doesn't exist&quot;) .be.true; opts = U.defVal(opts, {}); opts.sameName = U.defVal(opts.sameName, false); opts.dstDir = U.defVal(opts.dstDir, path.dirname(srcPath)); if (opts.sameName) { var dstName = path.basename(srcPath); var tempPath = path.resolve(opts.dstDir, &quot;tmp-&quot; + dstName); } else var dstName = ctrlName + &quot;-&quot; + path.basename(srcPath); var dstPath = path.resolve(opts.dstDir, dstName); var ctrlLoc = await control.location(); var srcInfo = await new Promise((resolve, reject) =&gt; { sharp(srcPath) .toBuffer((err, outputBuffer, info) =&gt; { if (err) reject(err); resolve(info); }); }); if (ctrlLoc.y &lt; 0) ctrlLoc.y = 0; if (ctrlLoc.x &lt; 0) ctrlLoc.x = 0; if ((ctrlLoc.y + ctrlLoc.height) &gt; srcInfo.height) ctrlLoc.height = srcInfo.height - ctrlLoc.y; if ((ctrlLoc.x + ctrlLoc.width) &gt; srcInfo.width) ctrlLoc.width = srcInfo.width - ctrlLoc.x; await new Promise((resolve, reject) =&gt; { sharp(srcPath) .extract({ left: ctrlLoc.x, top: ctrlLoc.y, width: ctrlLoc.width, height: ctrlLoc.height }) .crop(sharp.strategy.entropy) .toFile(opts.sameName ? tempPath : dstPath, function(err) { if (err) reject(err); resolve(); }); }); if( opts.sameName) fs.renameSync(tempPath, dstPath); fs.existsSync(dstPath).should.withMessage( &quot;Cropped image &quot; + dstPath + &quot; is absent&quot;).be.true; return dstPath; }, }; × Search results Close "},"steps_index.js.html":{"id":"steps_index.js.html","title":"Source: steps/index.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: steps/index.js &quot;use strict&quot;; /** * Steps namespace. * * @module */ var CONF = require(&quot;../config&quot;); var U = require(&quot;../utils&quot;); var logger = require(&quot;../logger&quot;); /** * Steps collection which will be executed in test cases. * * @class */ var Steps = module.exports = function () { this._webdriver = null; }; /** * Sets webdriver. * * It's used for web ui test cases. * * @method * @arg {object} webdriver - Instance of webdriver. */ Steps.prototype.setWebdriver = function (webdriver) { this._webdriver = webdriver; }; /** * Step to make pause in another step or test case. Good style to rid of * its direct usage in test case, only inside other step. * * @async * @arg {number} timeout - Pause time, ms. * @arg {string} message - Pause reason. */ Steps.prototype.pause = async function (timeout, message) { expect(message, &quot;Pause message is not defined&quot;).to.not.be.undefined; logger.stepDebug(&quot;Sleep&quot;, timeout, &quot;ms, reason:&quot;, message); await U.sleep(timeout); }; /** * Registers sequence of objects containing steps. * * @static * @method */ Steps.register = function () { _.assign(Steps.prototype, arguments); }; if (CONF.isWeb) Steps.register(require(&quot;./image&quot;), require(&quot;./proxy&quot;), require(&quot;./video&quot;), require(&quot;./web&quot;)); if (CONF.useXvfb) Steps.register(require(&quot;./xvfb&quot;)); × Search results Close "},"steps_proxy.js.html":{"id":"steps_proxy.js.html","title":"Source: steps/proxy.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: steps/proxy.js &quot;use strict&quot;; /** * Steps for proxy. * * @module */ module.exports = { startProxy: async function (check) { check = U.defVal(check, true); this._proxy = new ProxyServer({ useCache: CONF.useCache }); await this._proxy.start(); if (check) this._proxy.isRunning.should.be.true; }, startProxy: async function (check) { check = U.defVal(check, true); this._proxy = new ProxyServer({ useCache: CONF.useCache }); await this._proxy.start(); if (check) this._proxy.isRunning.should.be.true; }, startGlobalProxy: async function (check) { check = U.defVal(check, true); this._globalProxy = new GlobalProxy( { port: CONF.globalProxyPort, timeout: CONF.timeout.pageLoad, installCertificate: !CONF.disableCertificate, rootPath: CONF.rootPath, useCache: CONF.useCache }); await this._globalProxy.start(); if (check) this._globalProxy.isRunning.should.be.true; }, stopGlobalProxy: async function (check) { check = U.defVal(check, true); await this._globalProxy.stop(); if (check) this._globalProxy.isRunning.should.be.false; }, limitProxySpeed: function (speed, opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); this._checkProxy(); if (this._proxy) this._proxy.setSpeed(speed); if (this._globalProxy) this._globalProxy.setSpeed(speed); if (opts.check) { if (this._proxy) this._proxy.speed.should.be.equal(speed); if (this._globalProxy) this._globalProxy.speed.should.be.equal(speed); }; }, unlimitProxySpeed: function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); this._checkProxy(); if (this._proxy) this._proxy.resetSpeed(); if (this._globalProxy) this._globalProxy.resetSpeed(); if (opts.check) { if (this._proxy) this._proxy.speed.should.be.null; if (this._globalProxy) this._globalProxy.speed.should.be.null; }; }, measureResponses: function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); this._checkProxy(); if (this._proxy) this._proxy.measureResponses(); if (this._globalProxy) this._globalProxy.measureResponses(); if (opts.check) { if (this._proxy) this._proxy.getResponsesData().should.not.be.null; if (this._globalProxy) this._globalProxy.getResponsesData() .should.not.be.null; }; this._responseTimer = Date.now(); }, getResponsesData: function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); this._checkProxy(); var info = []; if (this._proxy &amp;&amp; this._proxy.getResponsesData()) info = info.concat(this._proxy.getResponsesData()); if (this._globalProxy &amp;&amp; this._globalProxy.getResponsesData()) info = info.concat(this._globalProxy.getResponsesData()); if (opts.check) { _.isEmpty(info).should .withMessage(&quot;No responses are captured with proxy&quot;) .be.false; }; return { info: info, durationTime: Date.now() - this._responseTimer }; }, unmeasureResponses: function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); this._checkProxy(); if (this._proxy) this._proxy.unmeasureResponses(); if (this._globalProxy) this._globalProxy.unmeasureResponses(); if (opts.check) { if (this._proxy) expect(this._proxy.getResponsesData()).to.be.null; if (this._globalProxy) expect(this._globalProxy.getResponsesData()) .to.be.null; }; }, _checkProxy: function () { expect(this._proxy || this._globalProxy) .withMessage(&quot;No proxy is launched&quot;) .to.not.be.undefined; } }; × Search results Close "},"steps_video.js.html":{"id":"steps_video.js.html","title":"Source: steps/video.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: steps/video.js &quot;use strict&quot;; /** * Steps for video recording. * * @module */ var U = require(&quot;../utils&quot;); var VideoRecorder = require(&quot;../video&quot;); /** * Steps to manage video recording. * * @mixin */ module.exports = { /** * Step to start video recording. * * @method * @instance * @async * @arg {object} [opts] - step options * @arg {boolean} [opts.check=true] - flag to check step result or no * @throws {Error} if video recording isn't started */ startVideo: async function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); this._video = new VideoRecorder(); var opts = {}; _.assign(opts, (await this._driver.windowHandlePosition()).value); _.assign(opts, (await this._driver.windowHandleSize()).value); opts.path = this._getPath(CONF.testCase.name, { typedirs: ['videos'], ext: 'mpg' }); await this._video.configure(opts); await this._video.start(); await this.pause(1000, &quot;recorder needs a time to start recording&quot;); if (opts.check) this._video.isRunning.should.be.true; }, /** * Step to stop video recording. * * @method * @instance * @async * @arg {object} [opts] - step options * @arg {boolean} [opts.check=true] - flag to check step result or no * @throws {Error} if video recording isn't stoped */ stopVideo: async function (opts) { if (!this._video.isRunning) return; opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); await this.pause(2000, &quot;recorder needs a time to gather latest frames&quot;); await this._video.stop(); if (opts.check) this._video.isRunning.should.be.false; return this._video.filePath; }, }; × Search results Close "},"steps_web.js.html":{"id":"steps_web.js.html","title":"Source: steps/web.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: steps/web.js &quot;use strict&quot;; /** * Steps for web applications. * * @module */ var selenium = require(&quot;selenium-standalone&quot;); var U = require(&quot;../utils&quot;); /** * Steps to manage web application. * * @mixin */ module.exports = { /** * Step to install selenium drivers. * * @method * @instance * @async * @this Steps */ installSeleniumDrivers: async function () { await new Promise((resolve, reject) =&gt; { selenium.install({}, err =&gt; { if (err) reject(err); resolve(); }); }); }, /** * Step to start selenium server. * * @method * @instance * @async * @this Steps */ startSeleniumServer: async function () { this._seleniumProc = await new Promise((resolve, reject) =&gt; { selenium.start({}, (err, child) =&gt; { if (err) reject(err); resolve(child); }) }); }, /** * Stepto stop selenium server. * * @method * @instance * @async * @this Steps */ stopSeleniumServer: async function () { this._seleniumProc.kill(); }, /** * Step to launch browser. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check step result or no. * @throws {Error} - if browser isn't launched */ launchBrowser: async function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); if (this._isBrowserLaunched) return; await this._webdriver.init(); if (opts.check) { expect(await this._webdriver.session()) .withMessage(&quot;Browser isn't launched&quot;) .to.not.be.null; }; if (CONF.resolution &amp;&amp; CONF.platform === &quot;pc&quot;) { await this._webdriver.setViewportSize({ width: CONF.resolution.width, height: CONF.resolution.height }); }; this._isBrowserLaunched = true; }, /** * Step to close browser. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check step result or no. * @throws {Error} - if browser isn't closed */ closeBrowser: async function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); if (!this._isBrowserLaunched) return; await this._webdriver.end(); if (opts.check) { expect(await this._webdriver.session(), &quot;Browser isn't closed&quot;).to.be.null; }; this._isBrowserLaunched = false; }, /** * Step to restart browser. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - step options * @arg {boolean} [opts.check=true] - flag to check step result or no */ restartBrowser: async function (opts) { await this.closeBrowser(opts); await this.pause(1000, &quot;between browser restarting&quot;); await this.launchBrowser(opts); }, /** * Step to open page in browser. * * @method * @instance * @async * @this Steps * @arg {string|object} pageUrl - URL or page. */ openPage: async function (pageUrl) { if (typeof(pageUrl) !== &quot;string&quot;) pageUrl = pageUrl.url; await this._webdriver.url(pageUrl) }, }; × Search results Close "},"steps_xvfb.js.html":{"id":"steps_xvfb.js.html","title":"Source: steps/xvfb.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: steps/xvfb.js &quot;use strict&quot;; /** * Steps for virtual display. * * @module */ var xvfb = require(&quot;xvfb&quot;); /** * Steps to manage virtual display. * * @mixin */ module.exports = { /** * Step to start virtual display. * * @method * @instance * @this {Steps} * @arg {object} [opts] - Step options. * @arg {number} [opts.width=1280] - Virtual display width. * @arg {number} [opts.height=720] - Virtual display height. * @arg {number} [opts.depth=24] - Virtual display color depth. * @arg {number} [opts.timeout=1000] - Time to wait for virtual display * will be started, ms. */ startXvfb: function (opts) { opts = opts || {}; var width = opts.width || 1280; var height = opts.height || 720; var depth = opts.depth || 24; var timeout = opts.timeout || 1000; this._xvfb = new Xvfb({ timeout: timeout, xvfb_args: [ `${width}x${height}x${depth}`, &quot;-noreset&quot;, &quot;-ac&quot;] }); this._xvfb.startSync(); }, /** * Step to stop virtual display. * * @method * @instance * @this {Steps} */ stopXvfb: function () { this._xvfb.stopSync(); }, }; × Search results Close "},"testing.js.html":{"id":"testing.js.html","title":"Source: testing.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: testing.js &quot;use strict&quot;; /** * Data structures related with test cases. * * @module */ var _ = require(&quot;lodash&quot;); /** * Test case data structure. * * Contains full information and history about test case. * * @method * @arg {string} name - Test case name. */ var TestCase = module.exports.TestCase = function (name) { this._name = name; }; /** * Resets test case info. * * @method */ TestCase.prototype.reset = function () { this._screenshots = []; this._steps = []; }; /** * Gets executed test steps. * * It makes clone of current array of steps in order to get its replica. * * @method * @return {TestStep[]} - List of executed steps. */ TestCase.prototype.getSteps = function () { return _.clone(this._steps); }; /** * Adds executed step to test case. * * @method * @arg {string} name - Step name. * @arg {boolean} isFailed - Flag whether step is failed or no. */ TestCase.prototype.addStep = function (name, isFailed) { this._steps.push(new TestStep(name, isFailed)); }; /** * Test step data structure. * * @class * @arg {string} name - Step name. * @arg {boolean} isFailed - Flag whether step is failed or no. */ var TestStep = module.exports.TestStep = function (name, isFailed) { this._name = name; this._isFailed = !!isFailed; }; × Search results Close "},"reporters_testrail.js.html":{"id":"reporters_testrail.js.html","title":"Source: reporters/testrail.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: reporters/testrail.js 'use strict'; /** * Contains functions to report test results to testrail. * * @module testrail-reporter */ var fs = require('fs'); var path = require(&quot;path&quot;); var util = require('util'); var _ = require(&quot;lodash&quot;); var mocha = require('mocha'); var colors = require('colors/safe'); var Base = mocha.reporters.base; var inherits = mocha.utils.inherits; var Testrail = require('testrail-api'); var CONF = require('../config'); var utils = require('../utils'); var publishing = Promise.resolve(); var reportCases = {}; var TestrailResults = { PASSED: 1, BLOCKED: 2, UNTESTED: 3, RETEST: 4, FAILED: 5 }; var testrail = new Testrail({ host: CONF.testRail.host, user: CONF.testRail.user, password: CONF.testRail.password }); colors.setTheme({ report: ['magenta', 'bold'], }); var projectId = CONF.testRail.project; var suiteId = CONF.testRail.suites[CONF.suite]; if (suiteId &amp;&amp; CONF.publishResults) { testrail.getCases(projectId, { suite_id: suiteId }, function (err, cases) { if (err) throw err; cases.forEach(function (testrailCase, index, cases) { reportCases[testrailCase.title] = { id: testrailCase.id }; }); }); } module.exports = TestrailReporter; /** * Creates a new instance of testrail reporter. * * @class * @classdesc Reports test results to testrail and prints to console. * @param {object} runner - mochajs runner */ function TestrailReporter(runner) { Base.call(this, runner); var indents = 0; var indent = () =&gt; { return Array(indents).join(' '); } var origConsoleLog; var patchConsoleLog = () =&gt; { var reportLog = fs.createWriteStream(CONF.rootPath + '/report.log', {flags : 'w'}); origConsoleLog = console.log; console.log = function() { reportLog.write(util.format.apply(null, arguments) + '\\n'); origConsoleLog.apply(this, arguments); } } var restoreConsoleLog = () =&gt; { if (origConsoleLog) console.log = origConsoleLog; } runner.on('start', () =&gt; { patchConsoleLog(); console.log(); if (suiteId) this.startRun(); }); runner.on('end', () =&gt; { this.epilogue(); if (CONF.publishResults) { if (suiteId) { var reportMsg = &quot;Tests report is &quot; + CONF.testRail.reportUrl + CONF.testRail.runId; console.log(colors.report(Array(reportMsg.length + 1).join('-'))); console.log(colors.report(reportMsg)); }; } else { var reportMsg = &quot;Tests report is &quot; + path.dirname(CONF.localReportDir); console.log(colors.report(Array(reportMsg.length + 1).join('-'))); console.log(colors.report(reportMsg)); }; restoreConsoleLog(); }); runner.on('suite', (mochaSuite) =&gt; { ++indents; if (mochaSuite.title) { console.log(); var prefix = reportCases[mochaSuite.title] ? 'case:' : 'scope:'; console.log(colors.yellow(indent(), prefix, mochaSuite.title)); } }); runner.on('test', (mochaTest) =&gt; { CONF.testCase.addStep(mochaTest.title); }); runner.on('pass', (mochaTest) =&gt; { console.log(colors.green(indent() + ' ', 'step:', Base.symbols.ok, mochaTest.title)); }); runner.on('fail', (mochaTest, err) =&gt; { console.log(colors.red(indent() + ' ', 'step:', Base.symbols.err, mochaTest.title)); var lastStep = _.last(CONF.testCase.getSteps()); if (lastStep) lastStep.isFailed = true; var failedParams = {}; if (CONF.testCase.language) { failedParams.languages = [CONF.testCase.language]; }; CONF.testCase.addFailedParams(failedParams); if (suiteId) this.gatherErrors(mochaTest, err); }); runner.on('suite end', (mochaSuite) =&gt; { --indents; if (indents === 1) console.log(); if (suiteId &amp;&amp; CONF.publishResults) this.publishResult(mochaSuite); }); } /** * Inherit from `Base.prototype`. */ inherits(TestrailReporter, Base); /** * Starts testrail run. * * @method */ TestrailReporter.prototype.startRun = function () { var description = &quot;&quot;; testrail.addRun( projectId, { suite_id: suiteId, // required name: CONF.suite, // required description: description // required }, (err, run) =&gt; { CONF.testRail.runId = run.id; } ); } /** * Gathers test errors to report. * * @method * @param {object} mochaTest - mochajs test * @param {object} err - mochajs test error */ TestrailReporter.prototype.gatherErrors = function (mochaTest, err) { var reportCase, stepTitle = mochaTest.title; var parent = mochaTest.parent; while (parent) { if (parent.title in reportCases) { reportCase = reportCases[parent.title]; break; } parent = parent.parent; } if (reportCase) { if (!reportCase.failedSteps) reportCase.failedSteps = {}; reportCase.failedSteps[stepTitle] = err.message + '\\n' + err.stack; } } /** * Publish test result to test run. * * @method * @param {object} mochaSuite - mochajs tests suite */ TestrailReporter.prototype.publishResult = function (mochaSuite) { var reportCase = reportCases[mochaSuite.title]; var caseId = (reportCase || {}).id; if (caseId) { var screensMsg = ''; CONF.testCase.screenshots.forEach(screenPath =&gt; { screensMsg += 'file:\\\\' + screenPath + '\\n'; }); var testResult = { status_id: TestrailResults.PASSED, comment: 'Screenshots:\\n' + screensMsg + '\\n\\n' }; var videosMsg = &quot;&quot;; CONF.testCase.videos.forEach(videoPath =&gt; { videosMsg += &quot;file:\\\\&quot; + videoPath + &quot;\\n&quot;; }); if (videosMsg) testResult.comment += &quot;Videos:\\n&quot; + videosMsg + &quot;\\n\\n&quot;; if (!utils.isEmpty(reportCase.failedSteps)) { testResult.status_id = TestrailResults.FAILED; for (var step in reportCase.failedSteps) { var errMsg = reportCase.failedSteps[step]; testResult.comment += 'step: ' + step + '\\nerror: ' + errMsg + '\\n\\n'; } } publishing = publishing.then(() =&gt; { return new Promise((resolve, reject) =&gt; { testrail.addResultForCase(CONF.testRail.runId, caseId, testResult, (err, res) =&gt; { if (err) reject(err); resolve(res); }); }); }); }; }; /** * Finalizes `mocha` right after report publishing. * * @param {object} failures - `mocha` failures * @param {function} fn - `mocha` finalizer */ TestrailReporter.prototype.done = function (failures, fn) { publishing.then(() =&gt; { fn(failures); }); }; × Search results Close "},"utils.js.html":{"id":"utils.js.html","title":"Source: utils.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: utils.js &quot;use strict&quot;; /** * Contains utils and helpers. * * @module utils */ var _ = require(&quot;lodash&quot;); var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); /** * Gets default value for variable among passed listed values. * * @function * @arg {...*} value - variable value * @return {*} - last specified value or null if last is undefined. */ module.exports.defVal = function () { for (var arg of arguments) if (typeof arg !== &quot;undefined&quot;) return arg; return null; }; /** * Capitalizes first letter of string. Doesn&quot;t influence to case * of other letters. * * @function * @param {string} string - string to capitalize * @return {string} - capitalized string */ module.exports.capitalize = string =&gt; { return string.charAt(0).toUpperCase() + string.slice(1); } /** * Defines is node a leaf in tree according by its id. * * @arg {object} root - tree root * @return {function} - function to define node leaf status with closed root */ module.exports.isLeaf = root =&gt; { var _isLeaf = (nodeId, nodes) =&gt; { nodes = nodes || root; for (var key in nodes) { var node = nodes[key]; if (_.isEmpty(node)) { if (key === nodeId) return true; else continue; }; var isIt = _isLeaf(nodeId, node); if (isIt) return true; }; return false; }; return _isLeaf; }; /** * Clears empty folders recursive. * * @function * @arg {string} folder - path to root folder */ var clearEmptyFolders = module.exports.clearEmptyFolders = folder =&gt; { var files = fs.readdirSync(folder); for (var fileName of files) { var filePath = path.join(folder, fileName); if (fs.statSync(filePath).isDirectory()) clearEmptyFolders(filePath); }; if (!_.isEmpty(files)) files = fs.readdirSync(folder); if (_.isEmpty(files)) fs.rmdirSync(folder); }; /** * Makes delay (sleep) during code execution. * * @param {number} timeout - Time to sleep, ms. * @param {boolean} [blocking=false] - Flag whether sleep should be * block code execution. * @return {Promise} - If sleep isn't blocking. */ module.exports.sleep = (timeout, blocking) =&gt; { blocking = !!blocking; if (blocking) { (ms =&gt; { ms += new Date().getTime(); while (new Date &lt; ms){}; })(timeout); } else { return new Promise(resolve =&gt; { setTimeout(resolve, timeout); }); }; }; × Search results Close "},"video.js.html":{"id":"video.js.html","title":"Source: video.js","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Source: video.js &quot;use strict&quot;; /** * Classes and functions for video recording. * * @module */ var spawn = require(&quot;cross-spawn&quot;); var path = require(&quot;path&quot;); var U = require(&quot;./utils&quot;); /** * Creates a new instance of VideoRecorder. * * @class * @classdesc contains methods to record video for tests * @property {boolean} isRunning=false - flag is video recorder running or no * @property {?string} filePath=null - path video file */ var VideoRecorder = module.exports = function () { this.isRunning = false; this.filePath = null; this._process = null; this._recordCmd = &quot;ffmpeg&quot;; this._recordOpts = null; }; /** * Configures video recorder. * * @method * @arg {object} [opts] - recorder configuration * @arg {number} [opts.fps=30] - video framerate * @arg {number} [opts.width=1024] - video width * @arg {number} [opts.height=768] - video height * @arg {number} [opts.x=0] - `X`-offset on display * @arg {number} [opts.y=0] - `Y`-offset on display */ VideoRecorder.prototype.configure = function (opts) { opts = U.defVal(opts, {}); opts.fps = U.defVal(opts.fps, 30); opts.width = U.defVal(opts.width, 1024); opts.height = U.defVal(opts.height, 768); opts.x = U.defVal(opts.x, 0); opts.y = U.defVal(opts.y, 0); opts.size = opts.width + &quot;x&quot; + opts.height; this.filePath = U.defVal(opts.path, path.resolve(__dirname, &quot;output.mpg&quot;)); this._recordOpts = [ &quot;-y&quot;, &quot;-loglevel&quot;, &quot;quiet&quot;, &quot;-video_size&quot;, opts.size, &quot;-offset_x&quot;, opts.x, &quot;-offset_y&quot;, opts.y, &quot;-draw_mouse&quot;, 0, &quot;-framerate&quot;, opts.fps, &quot;-f&quot;, &quot;gdigrab&quot;, &quot;-i&quot;, &quot;desktop&quot;, &quot;-vcodec&quot;, &quot;libx264&quot;, this.filePath ]; }; /** * Starts video recorder. * * @method * @throws {Error} if video recorder is started already * @throws {Error} if video recorder isn't configured yet */ VideoRecorder.prototype.start = function () { if (this.isRunning) throw new Error(&quot;Video recorder is started already&quot;); if (!this._recordOpts) throw new Error(&quot;Video recorder isn't configured yet&quot;); this._process = spawn(this._recordCmd, this._recordOpts, { killSignal: &quot;SIGINT&quot; }); this.isRunning = true; }; /** * Stops video recorder. * * @method * @throws {Error} if video recorder isn't started yet */ VideoRecorder.prototype.stop = function () { if (!this.isRunning) throw new Error(&quot;Video recorder isn't started yet&quot;); return new Promise((resolve, reject) =&gt; { var result = this._process.kill(&quot;SIGINT&quot;); if (!result) { reject(&quot;Some &quot; + this._recordCmd + &quot; error, video wasn't captured&quot;); } else { this._process.on(&quot;exit&quot;, (code, signal) =&gt; { this.isRunning = false; resolve(); }); }; }); }; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Global Members cacheManager Source: proxy/middleware/cache.js, line 6 Methods afterSession(ctx) Hook to execute after tests session. May be overridden. Parameters: Name Type Description ctx object Session context. Source: globals.js, line 103 afterStep(name, func) Hook to be executed after each test step. Parameters: Name Type Description name string Name of test case. func function Hook function. Source: globals.js, line 211 baseTest(name, func) Basis for any test case. If test with the same was registered already, this test will be omitted with corresponding error in log. If retries amount is specified and this test was failed, the test will be added to queue in separated session with title containing Retry and its number. Parameters: Name Type Description name string Name of test case. func function Test function. Source: globals.js, line 124 beforeSession(ctx) Hook to execute before tests session. May be overridden. Parameters: Name Type Description ctx object Session context. Source: globals.js, line 87 beforeStep(name, func) Hook to be executed before each test step. Parameters: Name Type Description name string Name of test case. func function Hook function. Source: globals.js, line 202 expect() Verification matcher with expanded abilities. Source: globals.js, line 17 forEachLanguage(ctx, func) Hook to iterate test steps through all languages specifed in configuration. It's applicable for multilingual application. If list of languages is specified, it will be used firstly. Otherwise from configuration. Parameters: Name Type Description ctx object Test case context. func function Function with test steps. Source: globals.js, line 223 fromCache(req, res) Patches http response to send response from cache, if it is there. Parameters: Name Type Description req object http(s) request res object http(s) response Source: proxy/middleware/cache.js, line 41 Returns: true if response is in cache and was patched, otherwise false Type Promise.&lt;boolean&gt; module:proxy/middleware/info() Middleware to gather information about requests and responses. Source: proxy/middleware/info.js, line 29 scope() Tests scope. Source: globals.js, line 43 session( [name] [, ctx], func) Tests session. Parameters: Name Type Argument Description name string &lt;optional&gt; Session name. By default it includes start date time. ctx object &lt;optional&gt; Session context. By default it's empty. func function Function with test cases. Source: globals.js, line 59 step(name, func) Test step. Contains actions and verifications, which will be executed separatly from another steps. It is not the same as SS. SS is namespace with atomic application actions. But this function is used to organize test structure and to allocate independent test actions. Parameters: Name Type Description name string Name of test case. func function Step function. Source: globals.js, line 193 test(name, func) Test case. Parameters: Name Type Description name string Name of test case. func function Test function. Source: globals.js, line 175 toCache(req, res) Patches http response to put response to cache. Parameters: Name Type Description req object http(s) request res object http(s) response Source: proxy/middleware/cache.js, line 69 × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Modules Classes Control Dom GlaceError PointerEvents Image BaseProxy ProxyServer Steps TestStep TestrailReporter VideoRecorder Mixins module:steps/image module:steps/video module:steps/web module:steps/xvfb Namespaces CONF SS × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Classes Classes Control Dom GlaceError PointerEvents Image BaseProxy ProxyServer Steps TestStep TestrailReporter VideoRecorder Mixins module:steps/image module:steps/video module:steps/web module:steps/xvfb Namespaces CONF SS × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Namespaces Classes Control Dom GlaceError PointerEvents Image BaseProxy ProxyServer Steps TestStep TestrailReporter VideoRecorder Mixins module:steps/image module:steps/video module:steps/web module:steps/xvfb Namespaces CONF SS × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Glace (from the French. glacé — ice, frozen) is a cold drink based on coffee with the addition of ice cream. As the ware is typically used glass-glass or glass. Glacejs is functional testing framework based on mochajs. × Search results Close "},"CONF.html":{"id":"CONF.html","title":"Namespace: CONF","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Namespace: CONF CONF Framework and tests config. Source: globals.js, line 24 × Search results Close "},"module-cli.html":{"id":"module-cli.html","title":"Module: cli","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: cli List of functions to execute via command line interface. Source: cli.js, line 2 Methods &lt;static&gt; run() Runs test session. It executes runner.js file which is entry point to load and execute files with tests. Source: cli.js, line 18 × Search results Close "},"module-config.html":{"id":"module-config.html","title":"Module: config","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: config Configuration of framework and executed test cases. It also may be used as a bus to read/write data and share it among components and objects. Source: config.js, line 2 × Search results Close "},"module-dom.html":{"id":"module-dom.html","title":"Module: dom","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: dom Defines classes responsible for interaction with DOM in browser context. Source: dom.js, line 2 Classes Control Dom × Search results Close "},"module-dom-Control.html":{"id":"module-dom-Control.html","title":"Class: Control","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: Control dom~ Control new Control(name, driver) Creates a new instance of Control. Control binds DOM control in browser context with virtual control in test. Parameters: Name Type Description name string control name driver object selenium driver instance Source: dom.js, line 35 Methods click() Clicks control in browser. Source: dom.js, line 115 Returns: result of selenium execution in browser context Type Promise.&lt;*&gt; getText() Gets text content of DOM element. Source: dom.js, line 48 Returns: text value or null Type Promise.&lt;string&gt; isExist() Defines whether control is exist or no. Source: dom.js, line 147 Returns: true if control is exist, false otherwise Type Promise.&lt;boolean&gt; isSelected() Defines whether control is selected or no. Source: dom.js, line 132 Returns: true if control is selected, false otherwise Type Promise.&lt;boolean&gt; isVisible() Defines whether control is visible or no. Source: dom.js, line 191 Returns: true if control is visible, false otherwise Type Promise.&lt;boolean&gt; location( [opts]) Gets DOM control location with attributes: x, y, midX, midY, width, height Parameters: Name Type Argument Description opts object &lt;optional&gt; location options Properties Name Type Argument Default Description left number &lt;optional&gt; 0 left border offset top number &lt;optional&gt; 0 top border offset right number &lt;optional&gt; 0 right border offset bottom number &lt;optional&gt; 0 bottom border offset Source: dom.js, line 72 Returns: location of control Type Promise.&lt;object&gt; scrollIntoView() Scrolls control into browser viewport. Source: dom.js, line 102 Returns: result of javascript execution in browser context Type Promise.&lt;*&gt; tap() Taps control in browser. Source: dom.js, line 125 waitForExist( [timeout]) Waits for control is exist. Parameters: Name Type Argument Description timeout number &lt;optional&gt; timeout to wait, ms Source: dom.js, line 161 Throws: If control isn't exist after timeout. Type TimeoutError Returns: result of selenium execution Type Promise.&lt;*&gt; waitForInvisible( [timeout]) Waits for control is invisible. Parameters: Name Type Argument Description timeout number &lt;optional&gt; timeout to wait, ms Source: dom.js, line 221 Throws: If control is still visible after timeout. Type TimeoutError Returns: result of selenium execution Type Promise.&lt;*&gt; waitForNonExist( [timeout]) Waits for control isn't exist. Parameters: Name Type Argument Description timeout number &lt;optional&gt; timeout to wait, ms Source: dom.js, line 177 Throws: If control is still exist after timeout. Type TimeoutError Returns: result of selenium execution Type Promise.&lt;*&gt; waitForVisible( [timeout]) Waits for control is visible. Parameters: Name Type Argument Description timeout number &lt;optional&gt; timeout to wait, ms Source: dom.js, line 205 Throws: If control isn't visible after timeout. Type TimeoutError Returns: result of selenium execution Type Promise.&lt;*&gt; × Search results Close "},"module-dom-Dom.html":{"id":"module-dom-Dom.html","title":"Class: Dom","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: Dom dom~ Dom new Dom(driver) Creates a new instance of Dom. Dom allows to manipulate with html controls via selenium and javascript. Parameters: Name Type Description driver object selenium driver instance Source: dom.js, line 20 × Search results Close "},"module-error.html":{"id":"module-error.html","title":"Module: error","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: error Framework errors. Source: error.js, line 2 Classes GlaceError × Search results Close "},"module-error-GlaceError.html":{"id":"module-error-GlaceError.html","title":"Class: GlaceError","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: GlaceError error~ GlaceError new GlaceError(message) Base framework error. Parameters: Name Type Description message string Error message. Source: error.js, line 16 × Search results Close "},"module-event.html":{"id":"module-event.html","title":"Module: event","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: event Browser events. Source: event.js, line 2 Classes PointerEvents × Search results Close "},"module-event-PointerEvents.html":{"id":"module-event-PointerEvents.html","title":"Class: PointerEvents","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: PointerEvents event~ PointerEvents Contains browser pointer events. new PointerEvents() Creates a new pointer events instance. Source: event.js, line 14 Methods cancel(selector, x, y) Cancel pointer on element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: event.js, line 116 Returns: webdriverio instance Type object down(selector, x, y) Presses pointer down on element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: event.js, line 62 Returns: webdriverio instance Type object enter(selector, x, y) Enters pointer to element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: event.js, line 44 Returns: webdriverio instance Type object leave(selector, x, y) Leaves pointer from element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: event.js, line 152 Returns: webdriverio instance Type object move(selector, x, y) Moves pointer to element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: event.js, line 98 Returns: webdriverio instance Type object out(selector, x, y) Moves out pointer from element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: event.js, line 134 Returns: webdriverio instance Type object over(selector, x, y) Moves pointer over element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: event.js, line 26 Returns: webdriverio instance Type object up(selector, x, y) Unpresses pointer up on element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: event.js, line 80 Returns: webdriverio instance Type object × Search results Close "},"module-globals.html":{"id":"module-globals.html","title":"Module: globals","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: globals Global framework functions and helpers. Source: globals.js, line 2 Members &lt;inner&gt; sessNum :Number Executed sessions counter. Type: Number Source: globals.js, line 49 × Search results Close "},"module-image.html":{"id":"module-image.html","title":"Module: image","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: image Describes image processing. Source: image.js, line 2 Classes Image × Search results Close "},"module-image-Image.html":{"id":"module-image-Image.html","title":"Class: Image","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: Image image~ Image new Image(srcPath [, srcOpts]) Creates new instance of Image. Parameters: Name Type Argument Description srcPath string path to processed image srcOpts object &lt;optional&gt; image options Properties Name Type Argument Description scaleX number &lt;optional&gt; image current scale value on X axis scaleY number &lt;optional&gt; image current scale value on Y axis Source: image.js, line 20 Methods &lt;protected&gt; _cropPixels(pixels) Crops pixels, removes empty rows and columns. Parameters: Name Type Description pixels Array.&lt;Array.&lt;object&gt;&gt; pixels matrix Source: image.js, line 275 Returns: cropped pixels matrix Type Array.&lt;Array.&lt;object&gt;&gt; &lt;protected&gt; _cropTop(pixels) Crops top part of pixels matrix. Parameters: Name Type Description pixels Array.&lt;Array.&lt;object&gt;&gt; pixels matrix Source: image.js, line 296 Returns: cropped pixels matrix Type Array.&lt;Array.&lt;object&gt;&gt; &lt;protected&gt; _getDiffValue(srcPixels, dstPixels, offsetX, offsetY) Calculates difference between source pixels and destination pixels. Parameters: Name Type Description srcPixels Array.&lt;Array.&lt;object&gt;&gt; source pixels matrix dstPixels Array.&lt;Array.&lt;object&gt;&gt; destination pixels matrix offsetX number source left border offset offsetY number source top border offset Source: image.js, line 187 Returns: difference value Type number &lt;protected&gt; _getPixels(img) Retrieves pixels from image data. Parameters: Name Type Description img object image data Source: image.js, line 246 Returns: pixels matrix Type Array.&lt;Array.&lt;object&gt;&gt; &lt;protected&gt; _includes(src, dst) Defines whether one image data includes another. Parameters: Name Type Description src object source image data dst object destination image data, which is potentially included Source: image.js, line 128 Returns: result Type object &lt;protected&gt; _isPixelTolerant(srcPixel, dstPixel) Defines whether source pixel is tolerant to destination pixel. Parameters: Name Type Description srcPixel object source pixel dstPixel object destination pixel Source: image.js, line 228 Returns: true if pixels are tolerant, false otherwise Type boolean &lt;protected&gt; _isPixelUsed(pixel) Defines whether pixel should be used for difference calculation or no, according its alpha value. Parameters: Name Type Description pixel object pixel Source: image.js, line 216 Returns: true if should be, false otherwise Type boolean &lt;protected&gt; _loadImg(imgPath, imgOpts) Loads image. Parameters: Name Type Description imgPath string path loaded image imgOpts object image options Source: image.js, line 92 Returns: image data Type Promise.&lt;object&gt; &lt;protected&gt; _saveMatchImage(left, top, width, height) Saves matched part of image. Parameters: Name Type Description left number offset from left image border top number offset from top image border width number width of matched part height number height of matched part Source: image.js, line 114 Returns: Type Promise _transpose(pixels) Transposes pixels matrix. Parameters: Name Type Description pixels Array.&lt;Array.&lt;object&gt;&gt; pixels matrix Source: image.js, line 328 Returns: transposed pixels matrix Type Array.&lt;Array.&lt;object&gt;&gt; includes(dstPath [, dstOpts]) Defines if processed image includes specified image. Parameters: Name Type Argument Description dstPath string path to potentially included image dstOpts object &lt;optional&gt; included image options Properties Name Type Argument Default Description tolerance number &lt;optional&gt; 0.05 comparison tolerance matchedPath string &lt;optional&gt; &lt;nullable&gt; null path to same captured place saveMatch boolean &lt;optional&gt; false flag to capture images intersection or no Source: image.js, line 44 Returns: result Type Promise.&lt;object&gt; × Search results Close "},"module-logger.html":{"id":"module-logger.html","title":"Module: logger","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: logger Configures framework logging. Source: logger.js, line 2 × Search results Close "},"module-proxy_base.html":{"id":"module-proxy_base.html","title":"Module: proxy/base","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: proxy/base Base proxy. Source: proxy/base.js, line 2 Classes BaseProxy × Search results Close "},"module-proxy_base-BaseProxy.html":{"id":"module-proxy_base-BaseProxy.html","title":"Class: BaseProxy","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: BaseProxy proxy/base~ BaseProxy &lt;abstract&gt; new BaseProxy() Base proxy. Source: proxy/base.js, line 14 Methods getResponsesData() Gets responses data. Source: proxy/base.js, line 56 measureResponses() Starts to measure responses and gather information of them. Source: proxy/base.js, line 40 resetSpeed() Resets speed of responses. Source: proxy/base.js, line 32 setSpeed() Sets speed of responses from proxy to client. Source: proxy/base.js, line 24 start() Starts proxy. Source: proxy/base.js, line 65 stop() Stops proxy server. Source: proxy/base.js, line 73 unmeasureResponses() Disables responses measurement. Source: proxy/base.js, line 48 × Search results Close "},"module-proxy_index.html":{"id":"module-proxy_index.html","title":"Module: proxy/index","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: proxy/index Proxy package. Source: proxy/index.js, line 2 × Search results Close "},"module-proxy_middleware_index.html":{"id":"module-proxy_middleware_index.html","title":"Module: proxy/middleware/index","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: proxy/middleware/index Proxy middleware package. Source: proxy/middleware/index.js, line 2 × Search results Close "},"module-proxy_middleware_info.html":{"id":"module-proxy_middleware_info.html","title":"Module: proxy/middleware/info","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: proxy/middleware/info Contains proxy middlewares (require(&quot;proxy/middleware/info&quot;))() Middleware to gather information about requests and responses. Source: proxy/middleware/info.js, line 29 × Search results Close "},"module-proxy_middleware_speed.html":{"id":"module-proxy_middleware_speed.html","title":"Module: proxy/middleware/speed","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: proxy/middleware/speed Middleware to manage responses speed. Source: proxy/middleware/speed.js, line 2 Methods &lt;static&gt; changeResponsesSpeed(res, speed) Middleware to change responses speed. Parameters: Name Type Description res object http(s) response speed number limited speed value, kb/s Source: proxy/middleware/speed.js, line 15 × Search results Close "},"module-proxy_proxy.html":{"id":"module-proxy_proxy.html","title":"Module: proxy/proxy","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: proxy/proxy Contains code, responsible for proxy server implementation. Source: proxy/proxy.js, line 2 Classes ProxyServer × Search results Close "},"module-proxy_proxy-ProxyServer.html":{"id":"module-proxy_proxy-ProxyServer.html","title":"Class: ProxyServer","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: ProxyServer proxy/proxy~ ProxyServer new ProxyServer( [opts]) Creates a new instance of ProxyServer. Parameters: Name Type Argument Description opts object &lt;optional&gt; proxy options Properties Name Type Argument Default Description useCache boolean &lt;optional&gt; false flag to cache and take from cache responses Source: proxy/proxy.js, line 28 Methods start() Starts proxy server if it&quot;s not started yet. Source: proxy/proxy.js, line 79 stop() Stops proxy server if it&quot;s not stopped yet. Source: proxy/proxy.js, line 89 × Search results Close "},"module-runner.html":{"id":"module-runner.html","title":"Module: runner","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: runner Tests runner Source: runner.js, line 2 × Search results Close "},"module-steps_image.html":{"id":"module-steps_image.html","title":"Mixin: module:steps/image","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Mixin: module:steps/image module:steps/image Steps to manage web ui screenshots and images. Source: steps/image.js, line 14 Methods &lt;protected, static&gt; _cropImage(srcPath, ctrlName [, opts]) Helper to crop control area on screenshot. Parameters: Name Type Argument Description srcPath string path to image for cropping ctrlName object name of control which will be cropped opts object &lt;optional&gt; cropping options Properties Name Type Argument Default Description sameName boolean &lt;optional&gt; false flag to use the same name for cropped image or no. If false control name will be added to image name. Source: steps/image.js, line 268 Returns: path to cropped image Type string &lt;protected, static&gt; _domScreenshot(screenPath, selector [, timeout]) Helper to make DOM screenshot with html2canvas. Parameters: Name Type Argument Default Description screenPath string path to screenshot which will be saved selector string CSS selector of DOM element, which content will be saved to screenshot. timeout number &lt;optional&gt; 20000 timeout to wait screenshot capturing, ms Source: steps/image.js, line 93 Throws: if screenshot will not be captured during timeout Type Error &lt;protected, static&gt; _seleniumScreenshot(screenPath) Helper to make browser screenshot with selenium. Parameters: Name Type Description screenPath string path to screenshot which will be saved Source: steps/image.js, line 79 &lt;protected, static&gt; _verificateScreenshots(actualScreenshotPath, expectedScreenshotPath [, opts]) Helper to compare screenshot with standard image. Parameters: Name Type Argument Description actualScreenshotPath string path to taken screen shot expectedScreenshotPath string path to expected image opts object &lt;optional&gt; verification options Properties Name Type Argument Default Description tolerance number &lt;optional&gt; 0.05 Percentage of comparision tolerance. E.g. 5% tolerance is 0.05. shouldEqual boolean &lt;optional&gt; true flag to check images equivalence or their difference Source: steps/image.js, line 216 Throws: If screenshots comparison is failed. Type Error &lt;static&gt; checkScreenshot(screenPath [, opts]) Step to check screenshot matches standard image. If it's used to compare images, it tries to find standard image for current language. If standard image for current language is absent, it tries to find standard image for en language, because signs for each language should look like for english. Parameters: Name Type Argument Description screenPath string path to saved screenshot opts object &lt;optional&gt; comparison options Properties Name Type Argument Default Description Check boolean &lt;optional&gt; false flag whether it's images comparison or no tolerance number &lt;optional&gt; 0.05 images comparison precision elementTolerance number &lt;optional&gt; 0.05 cropped elements comparison precision checkedElements Array.&lt;string&gt; &lt;optional&gt; [] array of checked element names standardImage string &lt;optional&gt; &lt;nullable&gt; null path to standard image which will be compared with current. shouldEqual boolean &lt;optional&gt; true flag to check images equivalence or their difference Source: steps/image.js, line 157 Throws: if screenshot doesn't standard image with specified precision Type Error makeScreenshot(screenName [, opts]) Step to make web ui screenshot. Parameters: Name Type Argument Description screenName string Name of screenshot. opts object &lt;optional&gt; Step options. Source: steps/image.js, line 24 × Search results Close "},"module-steps_index.html":{"id":"module-steps_index.html","title":"Module: steps/index","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: steps/index Steps namespace. Source: steps/index.js, line 2 Classes Steps × Search results Close "},"module-steps_index-Steps.html":{"id":"module-steps_index-Steps.html","title":"Class: Steps","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: Steps steps/index~ Steps new Steps() Steps collection which will be executed in test cases. Source: steps/index.js, line 16 Methods &lt;static&gt; register() Registers sequence of objects containing steps. Source: steps/index.js, line 49 pause(timeout, message) Step to make pause in another step or test case. Good style to rid of its direct usage in test case, only inside other step. Parameters: Name Type Description timeout number Pause time, ms. message string Pause reason. Source: steps/index.js, line 38 setWebdriver(webdriver) Sets webdriver. It's used for web ui test cases. Parameters: Name Type Description webdriver object Instance of webdriver. Source: steps/index.js, line 27 × Search results Close "},"module-steps_proxy.html":{"id":"module-steps_proxy.html","title":"Module: steps/proxy","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: steps/proxy Steps for proxy. Source: steps/proxy.js, line 2 × Search results Close "},"module-steps_video.html":{"id":"module-steps_video.html","title":"Mixin: module:steps/video","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Mixin: module:steps/video module:steps/video Steps to manage video recording. Source: steps/video.js, line 15 Methods startVideo( [opts]) Step to start video recording. Parameters: Name Type Argument Description opts object &lt;optional&gt; step options Properties Name Type Argument Default Description check boolean &lt;optional&gt; true flag to check step result or no Source: steps/video.js, line 26 Throws: if video recording isn't started Type Error stopVideo( [opts]) Step to stop video recording. Parameters: Name Type Argument Description opts object &lt;optional&gt; step options Properties Name Type Argument Default Description check boolean &lt;optional&gt; true flag to check step result or no Source: steps/video.js, line 55 Throws: if video recording isn't stoped Type Error × Search results Close "},"module-steps_web.html":{"id":"module-steps_web.html","title":"Mixin: module:steps/web","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Mixin: module:steps/web module:steps/web Steps to manage web application. Source: steps/web.js, line 16 Methods closeBrowser( [opts]) Step to close browser. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check step result or no. Source: steps/web.js, line 101 Throws: if browser isn't closed Type Error installSeleniumDrivers() Step to install selenium drivers. This: Steps Source: steps/web.js, line 25 launchBrowser( [opts]) Step to launch browser. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check step result or no. Source: steps/web.js, line 71 Throws: if browser isn't launched Type Error openPage(pageUrl) Step to open page in browser. This: Steps Parameters: Name Type Description pageUrl string | object URL or page. Source: steps/web.js, line 139 restartBrowser( [opts]) Step to restart browser. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; step options Properties Name Type Argument Default Description check boolean &lt;optional&gt; true flag to check step result or no Source: steps/web.js, line 125 startSeleniumServer() Step to start selenium server. This: Steps Source: steps/web.js, line 41 stopSeleniumServer() Stepto stop selenium server. This: Steps Source: steps/web.js, line 57 × Search results Close "},"module-steps_xvfb.html":{"id":"module-steps_xvfb.html","title":"Mixin: module:steps/xvfb","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Mixin: module:steps/xvfb module:steps/xvfb Steps to manage virtual display. Source: steps/xvfb.js, line 14 Methods startXvfb( [opts]) Step to start virtual display. This: {Steps} Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description width number &lt;optional&gt; 1280 Virtual display width. height number &lt;optional&gt; 720 Virtual display height. depth number &lt;optional&gt; 24 Virtual display color depth. timeout number &lt;optional&gt; 1000 Time to wait for virtual display will be started, ms. Source: steps/xvfb.js, line 28 stopXvfb() Step to stop virtual display. This: {Steps} Source: steps/xvfb.js, line 47 × Search results Close "},"module-testing.html":{"id":"module-testing.html","title":"Module: testing","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: testing Data structures related with test cases. Source: testing.js, line 2 Classes TestStep Methods &lt;inner&gt; TestCase(name) Test case data structure. Contains full information and history about test case. Parameters: Name Type Description name string Test case name. Source: testing.js, line 17 × Search results Close "},"module-testing-TestStep.html":{"id":"module-testing-TestStep.html","title":"Class: TestStep","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: TestStep testing~ TestStep new TestStep(name, isFailed) Test step data structure. Parameters: Name Type Description name string Step name. isFailed boolean Flag whether step is failed or no. Source: testing.js, line 57 × Search results Close "},"module-testrail-reporter.html":{"id":"module-testrail-reporter.html","title":"Module: testrail-reporter","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: testrail-reporter Contains functions to report test results to testrail. Source: reporters/testrail.js, line 3 Classes TestrailReporter × Search results Close "},"module-testrail-reporter-TestrailReporter.html":{"id":"module-testrail-reporter-TestrailReporter.html","title":"Class: TestrailReporter","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: TestrailReporter testrail-reporter~ TestrailReporter Reports test results to testrail and prints to console. new TestrailReporter(runner) Creates a new instance of testrail reporter. Parameters: Name Type Description runner object mochajs runner Source: reporters/testrail.js, line 68 Methods done(failures, fn) Finalizes mocha right after report publishing. Parameters: Name Type Description failures object mocha failures fn function mocha finalizer Source: reporters/testrail.js, line 271 gatherErrors(mochaTest, err) Gathers test errors to report. Parameters: Name Type Description mochaTest object mochajs test err object mochajs test error Source: reporters/testrail.js, line 196 publishResult(mochaSuite) Publish test result to test run. Parameters: Name Type Description mochaSuite object mochajs tests suite Source: reporters/testrail.js, line 221 startRun() Starts testrail run. Source: reporters/testrail.js, line 171 × Search results Close "},"module-utils.html":{"id":"module-utils.html","title":"Module: utils","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: utils Contains utils and helpers. Source: utils.js, line 3 Methods &lt;static&gt; capitalize(string) Capitalizes first letter of string. Doesn&quot;t influence to case of other letters. Parameters: Name Type Description string string string to capitalize Source: utils.js, line 33 Returns: capitalized string Type string &lt;static&gt; defVal(value) Gets default value for variable among passed listed values. Parameters: Name Type Argument Description value * &lt;repeatable&gt; variable value Source: utils.js, line 19 Returns: last specified value or null if last is undefined. Type * &lt;static&gt; isLeaf(root) Defines is node a leaf in tree according by its id. Parameters: Name Type Description root object tree root Source: utils.js, line 42 Returns: function to define node leaf status with closed root Type function &lt;static&gt; sleep(timeout [, blocking]) Makes delay (sleep) during code execution. Parameters: Name Type Argument Default Description timeout number Time to sleep, ms. blocking boolean &lt;optional&gt; false Flag whether sleep should be block code execution. Source: utils.js, line 87 Returns: If sleep isn't blocking. Type Promise &lt;inner&gt; clearEmptyFolders(folder) Clears empty folders recursive. Parameters: Name Type Description folder string path to root folder Source: utils.js, line 66 × Search results Close "},"module-video.html":{"id":"module-video.html","title":"Module: video","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Module: video Classes and functions for video recording. Source: video.js, line 2 Classes VideoRecorder × Search results Close "},"module-video-VideoRecorder.html":{"id":"module-video-VideoRecorder.html","title":"Class: VideoRecorder","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Class: VideoRecorder video~ VideoRecorder contains methods to record video for tests new VideoRecorder() Creates a new instance of VideoRecorder. Properties: Name Type Argument Default Description isRunning boolean false flag is video recorder running or no filePath string &lt;nullable&gt; null path video file Source: video.js, line 20 Methods configure( [opts]) Configures video recorder. Parameters: Name Type Argument Description opts object &lt;optional&gt; recorder configuration Properties Name Type Argument Default Description fps number &lt;optional&gt; 30 video framerate width number &lt;optional&gt; 1024 video width height number &lt;optional&gt; 768 video height x number &lt;optional&gt; 0 X-offset on display y number &lt;optional&gt; 0 Y-offset on display Source: video.js, line 39 start() Starts video recorder. Source: video.js, line 67 Throws: if video recorder is started already Type Error if video recorder isn't configured yet Type Error stop() Stops video recorder. Source: video.js, line 83 Throws: if video recorder isn't started yet Type Error × Search results Close "},"SS.html":{"id":"SS.html","title":"Namespace: SS","body":" GlaseJS Namespaces CONFSS Modules cliconfigdomerroreventglobalsimageloggerproxy/baseproxy/indexproxy/middleware/indexproxy/middleware/infoproxy/middleware/speedproxy/proxyrunnersteps/imagesteps/indexsteps/proxysteps/videosteps/websteps/xvfbtestingtestrail-reporterutilsvideo Classes dom~Controldom~Domerror~GlaceErrorevent~PointerEventsimage~Imageproxy/base~BaseProxyproxy/proxy~ProxyServersteps/index~Stepstesting~TestSteptestrail-reporter~TestrailReportervideo~VideoRecorder Global afterSessionafterStepbaseTestbeforeSessionbeforeStepcacheManagerexpectforEachLanguagefromCachescopesessionsteptesttoCache Namespace: SS SS Atomic steps collection. Source: globals.js, line 31 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
